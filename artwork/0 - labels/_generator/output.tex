%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%
%		Thesis Settings
%
%		EDOC Template
%		2011
%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\documentclass[a4paper,10pt,fleqn]{book}
\usepackage[T1]{fontenc}
\usepackage[utf8]{inputenc}
\usepackage[french,english]{babel}


\usepackage{lmodern}
%\usepackage[a4paper,top=22mm,bottom=28mm,inner=35mm,outer=25mm]{geometry}
\usepackage[a4paper,top=32mm,bottom=28mm,inner=35mm,outer=25mm]{geometry}

\usepackage[active,tightpage]{preview}



% LDP Packages
%--------------------------------------
\usepackage{amssymb}
\usepackage{amsmath}
\usepackage{amsthm}
\usepackage{bm}
\usepackage{mathtools}
\usepackage{lipsum}

% 3pt-circle-curvature where curvatureA(phi, alpha)
\def\curvatureA(#1,#2){2*sin(#1)/(1+(#2)^2 + 2*(#2)*cos(#1))^0.5}
%  Bi-tangent-circle-curvature where curvatureA(phi, alpha)
\def\curvatureB(#1,#2){4*tan(#1/2)/(1+(#2))}
% curvature A / curvature B
\def\curvatureRap(#1,#2){(1+#2)/(1+(#2)^2 + 2*(#2)*cos(#1))^0.5*cos(#1/2)^2}


% LDP Custom functions
%--------------------------------------

% typo
\newcommand{\guil}[1]{\og#1\fg{}}
\newcommand{\note}[1]{\color{blue}#1\color{black}}

% fonction inline (SHORT)
\newcommand{\fonction}[3]{#1 : #2 \longmapsto #3}

% fonction 2 lines (LONG)
\newcommand{\fonctionL}[5]{\begin{array}{lrcl}
#1: & #2 & \longrightarrow & #3 \\
    & #4 & \longmapsto & #5 \end{array}}

% differential
\newcommand{\diff}[2]{\boldsymbol{D}#1(#2)}
\newcommand{\diffN}[3]{\boldsymbol{D}^#1#2(#3)}
\newcommand{\diffof}[3]{\boldsymbol{D}#1(#2)\cdot#3}
\newcommand{\diffNof}[4]{\boldsymbol{D}^#1#2(#3)\cdot#4}

% partial differential
\newcommand{\pdiff}[3]{\boldsymbol{D}_#1#2(#3)}
\newcommand{\pdiffN}[4]{\boldsymbol{D}^#1_#2#3(#4)}
\newcommand{\pdiffof}[4]{\boldsymbol{D}_#1#2(#3)\cdot#4}
\newcommand{\pdiffNof}[5]{\boldsymbol{D}^#1_#2#3(#4)\cdot#5}

% vector, matrix and tensor
\newcommand{\vect}[1]{\boldsymbol{#1}} 
\newcommand{\mat}[1]{\boldsymbol{\mathit{#1}}}
\newcommand{\tens}[1]{\boldsymbol{\mathcal{#1}}}

\newcommand{\scalar}[2]{\langle #1\,, #2\rangle}

\newcommand{\grad}[1]{grad\;#1}
\DeclarePairedDelimiter\abs{\lvert}{\rvert}
\DeclarePairedDelimiter\norm{\lVert}{\rVert}

\newcommand{\Tr}[1]{Tr(#1)} %trace operator

\newcommand{\para}{{\mkern3mu\vphantom{\perp}\vrule depth 0pt\mkern2mu\vrule depth 0pt\mkern3mu}} % reduced heigth parallel symbol

\newcommand*\circled[1]{\tikz[baseline=(char.base)]{
    \node[shape=circle,draw,inner sep=2pt] (char) {#1};}}
 
 
 % nomenclature of symbols
\usepackage[intoc]{nomencl}
\makenomenclature
\renewcommand{\nomname}{Index of notation}

% overbar & hat
% -----------------------------------

% old version (renamed bellow)
%\newcommand{\overbar}[1]{\mkern 1.5mu\overline{\mkern-1.5mu#1\mkern-1.5mu}\mkern 1.5mu}


\usepackage{scalerel,stackengine}
\stackMath
\usepackage{verbatimbox} % For \addvbuffer
\usepackage{xparse}
\newlength\glyphwidth
\newlength\widthofx

% over hat

\newsavebox\hatglyphCONTENT
\sbox\hatglyphCONTENT{%
	%% 1ST OPTIONAL ARGUMENT OF \addvbuffer (CROP OFF TOP OF STACKED hat)
	%%	2ND OPTIONAL ARGUMENT OF \addvbuffer (CROP OFF BOTTOM OF STACKED hat)
    	\addvbuffer[-0.05ex -1.1ex]{$\hat{\phantom{.}}$}%
}

%% The floating point parameter scales the hatt glyphs everywhere.
\newcommand\hatglyph{\resizebox{0.6\widthofx}{!}{\usebox{\hatglyphCONTENT}}}
\newcommand\shifthat[2]{%
	%% 1ST ARGUMENT OF \stackengine (GAP BETWEEN GLYPH AND \hatglyph)
    \stackengine{0.2\widthofx}{%
        \SavedStyle#2}{%
        \rule{#1}{0ex}\hatglyph}{O}{c}{F}{T}{S}%
}
\ExplSyntaxOn
\newcommand\relativeGlyphOffset[1]{%
    	% The horizontal offset in arbitrary units that scale with math style.
    \str_case:nnF{#1}{%
        {A}{0.18}%
        {B}{0.1}%
        {W}{0.02}%
        {J}{0.18}%
        {\phi}{0.17}%
        {\varkappa}{0.12}%
        {\vect{\varkappa}}{0.13}% 
        {\vect{\omega}}{0.03}%     
    }{0.05}% Default
}\ExplSyntaxOff
% \hatt{decoratedLetter}[A] will insert the decoratedLetter with the hat
% above it, horizontally adjusted as if the decoratedLetter was an "A".
% If the trailing optional argument is not provided, then it defaults 
% to the decoratedLetter. This way we could do e.g. \hatt{\hatt{A}}[A].
\NewDocumentCommand{\hatt}{mO{#1}}{%
    \ThisStyle{%
        \setlength\glyphwidth{\widthof{$\SavedStyle{}\longleftarrow$}}%
        \setlength\widthofx{\widthof{$\SavedStyle{}x$}}%
        \shifthat{\relativeGlyphOffset{#2}\glyphwidth}{#1}%
  }%
}

% over bar

\newsavebox\barglyphCONTENT
\sbox\barglyphCONTENT{%
	%% 1ST OPTIONAL ARGUMENT OF \addvbuffer (CROP OFF TOP OF STACKED bar)
	%%	2ND OPTIONAL ARGUMENT OF \addvbuffer (CROP OFF BOTTOM OF STACKED bar)
    \addvbuffer[-0.05ex -1.35ex]{$\bar{\phantom{.}}$}%
}

%%%% The floating point parameter scales the check glyphs everywhere.
\newcommand\barglyph{\resizebox{0.7\widthofx}{!}{\usebox{\barglyphCONTENT}}}
\newcommand\shiftbar[2]{%
%%%% 1ST ARGUMENT OF \stackengine (GAP BETWEEN GLYPH AND \checkglyph)
    \stackengine{0.2\widthofx}{%
        \SavedStyle#2}{%
        \rule{#1}{0ex}\barglyph}{O}{c}{F}{T}{S}%
}

\NewDocumentCommand{\barr}{mO{#1}}{%
    \ThisStyle{%
        \setlength\glyphwidth{\widthof{$\SavedStyle{}\longleftarrow$}}%
        \setlength\widthofx{\widthof{$\SavedStyle{}x$}}%
        \shiftbar{\relativeGlyphOffset{#2}\glyphwidth}{#1}%
    }%
}

\newcommand{\rconf}[1]{\barr{#1}}
\newcommand{\overbar}[1]{\barr{#1}}
\newcommand{\overhat}[1]{\hatt{#1}}

\makeatletter
\renewcommand\tagform@[1]{}
\makeatother

\begin{document}
\PreviewEnvironment{equation}


\begin{equation}
(1+\epsilon) ds
\end{equation}


\begin{equation}
\vect{F}(s+ds)
\end{equation}


\begin{equation}
-\vect{F}(s)
\end{equation}


\begin{equation}
\vect{M}_{1}(s+ds)
\end{equation}


\begin{equation}
-\vect{M}_{1}(s)
\end{equation}


\begin{equation}
\vect{M}_{2}(s+ds)
\end{equation}


\begin{equation}
-\vect{M}_{2}(s)
\end{equation}


\begin{equation}
\vect{M}(s+ds)
\end{equation}


\begin{equation}
-\vect{M}(s)
\end{equation}


\begin{equation}
\vect{N}(s+ds)
\end{equation}


\begin{equation}
-\vect{N}(s)
\end{equation}


\begin{equation}
O
\end{equation}


\begin{equation}
\vect{Q}(s+ds)
\end{equation}


\begin{equation}
-\vect{Q}(s)
\end{equation}


\begin{equation}
\mathcal{S}(s)
\end{equation}


\begin{equation}
\rconf{\mathcal{S}}(s)
\end{equation}


\begin{equation}
\vect{T}_{1}(s+ds)
\end{equation}


\begin{equation}
-\vect{T}_{1}(s)
\end{equation}


\begin{equation}
\vect{T}_{2}(s+ds)
\end{equation}


\begin{equation}
-\vect{T}_{2}(s)
\end{equation}


\begin{equation}
X_1
\end{equation}


\begin{equation}
X_2
\end{equation}


\begin{equation}
arc \; tangent
\end{equation}


\begin{equation}
beam \; tangent
\end{equation}


\begin{equation}
\vect{d}_{1}
\end{equation}


\begin{equation}
\vect{d}_{1}^{*}
\end{equation}


\begin{equation}
\vect{d}_{1}^{\perp}
\end{equation}


\begin{equation}
\vect{d}_{1}^{\parallel}
\end{equation}


\begin{equation}
\vect{d}_{1}^{\perp}
\end{equation}


\begin{equation}
\vect{d}_{1}^{\parallel}
\end{equation}


\begin{equation}
\rconf{\vect{d}}_{1}
\end{equation}


\begin{equation}
\rconf{\vect{d}}_{1}
\end{equation}


\begin{equation}
\vect{d}_{2}
\end{equation}


\begin{equation}
\vect{d}_{2}^{*}
\end{equation}


\begin{equation}
\vect{d}_{2}^{\perp}
\end{equation}


\begin{equation}
\vect{d}_{2}^{\parallel}
\end{equation}


\begin{equation}
\vect{d}_{2}^{\perp}
\end{equation}


\begin{equation}
\vect{d}_{2}^{\parallel}
\end{equation}


\begin{equation}
\rconf{\vect{d}}_{2}
\end{equation}


\begin{equation}
\vect{d}_{3}
\end{equation}


\begin{equation}
\rconf{\vect{d}}_{3}
\end{equation}


\begin{equation}
d \theta = \kappa ds
\end{equation}


\begin{equation}
d \theta_1 = \kappa_1 ds
\end{equation}


\begin{equation}
d \theta_2 = \kappa_2 ds
\end{equation}


\begin{equation}
d \theta_3 = \tau ds
\end{equation}


\begin{equation}
ds
\end{equation}


\begin{equation}
\vect{e}_0
\end{equation}


\begin{equation}
\vect{e}_1
\end{equation}


\begin{equation}
\vect{e}_{2i+1}
\end{equation}


\begin{equation}
\vect{e}_{2i-1}
\end{equation}


\begin{equation}
\vect{e}_{2i-2}
\end{equation}


\begin{equation}
\vect{e}_{2i}
\end{equation}


\begin{equation}
\vect{e}_{i+1}
\end{equation}


\begin{equation}
\vect{e}_{i+1}
\end{equation}


\begin{equation}
\vect{e}_{i-1}
\end{equation}


\begin{equation}
\vect{e}_{i-2}
\end{equation}


\begin{equation}
\vect{e}_i
\end{equation}


\begin{equation}
\vect{e}_{n-1}
\end{equation}


\begin{equation}
\vect{e}_{n-2}
\end{equation}


\begin{equation}
\epsilon
\end{equation}


\begin{equation}
\epsilon ds
\end{equation}


\begin{equation}
fiber
\end{equation}


\begin{equation}
\vect{f}(s)
\end{equation}


\begin{equation}
ghost
\end{equation}


\begin{equation}
handle
\end{equation}


\begin{equation}
\kappa_1 \vect{d}_{1}
\end{equation}


\begin{equation}
\kappa_2 \vect{d}_{2}
\end{equation}


\begin{equation}
\kappa_{0}
\end{equation}


\begin{equation}
\kappa_{1}
\end{equation}


\begin{equation}
\kappa_{2}
\end{equation}


\begin{equation}
\kappa_{3}
\end{equation}


\begin{equation}
\kappa_{i+1}
\end{equation}


\begin{equation}
\kappa_{i-1}
\end{equation}


\begin{equation}
\kappa_{i}
\end{equation}


\begin{equation}
\kappa_{n-1}
\end{equation}


\begin{equation}
\kappa_{n-2}
\end{equation}


\begin{equation}
\kappa_{n}
\end{equation}


\begin{equation}
\vect{\kappa b}
\end{equation}


\begin{equation}
\vect{\kappa b}_0
\end{equation}


\begin{equation}
\vect{\kappa b}_1
\end{equation}


\begin{equation}
\vect{\kappa b}_{2i+1}
\end{equation}


\begin{equation}
\vect{\kappa b}_{2i-1}
\end{equation}


\begin{equation}
\vect{\kappa b}_{2i}^+
\end{equation}


\begin{equation}
\vect{\kappa b}_{2i}^-
\end{equation}


\begin{equation}
\vect{\kappa b}_{i+1}
\end{equation}


\begin{equation}
\vect{\kappa b}_{i-1}
\end{equation}


\begin{equation}
\vect{\kappa b}_i
\end{equation}


\begin{equation}
\vect{\kappa b}_{n-1}
\end{equation}


\begin{equation}
\vect{\kappa b}_{n-2}
\end{equation}


\begin{equation}
\vect{\varkappa}
\end{equation}


\begin{equation}
\varkappa_1
\end{equation}


\begin{equation}
\rconf{\varkappa}_1
\end{equation}


\begin{equation}
\varkappa_2
\end{equation}


\begin{equation}
\rconf{\varkappa}_2
\end{equation}


\begin{equation}
\varkappa_3
\end{equation}


\begin{equation}
\rconf{\varkappa}_3
\end{equation}


\begin{equation}
\rconf{\varkappa}_3 ds
\end{equation}


\begin{equation}
\varkappa_3 ds
\end{equation}


\begin{equation}
\rconf{\vect{\varkappa}}
\end{equation}


\begin{equation}
\vect{m}(s)
\end{equation}


\begin{equation}
\vect{p}
\end{equation}


\begin{equation}
\vect{p} = \vect{x} + X_{\alpha}\vect{d}_{\alpha} + u_k\vect{d}_{k}
\end{equation}


\begin{equation}
\rconf{\vect{p}}
\end{equation}


\begin{equation}
\varphi_0^+
\end{equation}


\begin{equation}
\varphi_1
\end{equation}


\begin{equation}
\varphi_{i+1}
\end{equation}


\begin{equation}
\varphi_{i-1}
\end{equation}


\begin{equation}
\varphi_i^+
\end{equation}


\begin{equation}
\varphi_i^-
\end{equation}


\begin{equation}
\varphi_i
\end{equation}


\begin{equation}
\frac{\varphi_i}{2}
\end{equation}


\begin{equation}
\varphi_{n-1}
\end{equation}


\begin{equation}
\varphi_n^-
\end{equation}


\begin{equation}
\varphi_n
\end{equation}


\begin{equation}
\vect{r}
\end{equation}


\begin{equation}
\vect{r} = X_{\alpha} \vect{d}_{\alpha} + \vect{u}_k \vect{d}_{k}
\end{equation}


\begin{equation}
\rconf{\vect{r}}
\end{equation}


\begin{equation}
\rconf{\vect{r}} = X_{\alpha} \rconf{\vect{d}}_{\alpha}
\end{equation}


\begin{equation}
s + ds
\end{equation}


\begin{equation}
s-ds
\end{equation}


\begin{equation}
s
\end{equation}


\begin{equation}
s_{0}
\end{equation}


\begin{equation}
s_{1}
\end{equation}


\begin{equation}
s_{i+1}
\end{equation}


\begin{equation}
s_{i-1}
\end{equation}


\begin{equation}
s_{i}
\end{equation}


\begin{equation}
s_{n-1}
\end{equation}


\begin{equation}
s_{n}
\end{equation}


\begin{equation}
s_t + (1+\epsilon)ds
\end{equation}


\begin{equation}
s_t - (1+\epsilon)ds
\end{equation}


\begin{equation}
s_t
\end{equation}


\begin{equation}
\vect{t}
\end{equation}


\begin{equation}
\vect{t}_{2i+1}
\end{equation}


\begin{equation}
\vect{t}_{2i+2}^-
\end{equation}


\begin{equation}
\vect{t}_{2i-1}
\end{equation}


\begin{equation}
\vect{t}_{2i-2}^+
\end{equation}


\begin{equation}
\vect{t}_{2i}^+
\end{equation}


\begin{equation}
\vect{t}_{2i}^-
\end{equation}


\begin{equation}
\vect{t}_{2i}
\end{equation}


\begin{equation}
\tau
\end{equation}


\begin{equation}
\theta_z
\end{equation}


\begin{equation}
\vect{u}
\end{equation}


\begin{equation}
\vect{u}_{2i+1}
\end{equation}


\begin{equation}
\vect{u}_{2i-1}
\end{equation}


\begin{equation}
\vect{u}_{2i-2}
\end{equation}


\begin{equation}
\vect{u}_{2i}
\end{equation}


\begin{equation}
\vect{u}_{i-1}
\end{equation}


\begin{equation}
\vect{u}_i
\end{equation}


\begin{equation}
\vect{x}
\end{equation}


\begin{equation}
\vect{x}_0
\end{equation}


\begin{equation}
\vect{x}_1
\end{equation}


\begin{equation}
\vect{x}_2
\end{equation}


\begin{equation}
\vect{x}_{2i+1}
\end{equation}


\begin{equation}
\vect{x}_{2i+2}
\end{equation}


\begin{equation}
\vect{x}_{2i-1}
\end{equation}


\begin{equation}
\vect{x}_{2i-2}
\end{equation}


\begin{equation}
\vect{x}_{2i}
\end{equation}


\begin{equation}
\vect{x}_{i+1}
\end{equation}


\begin{equation}
\vect{x}_{i-1}
\end{equation}


\begin{equation}
\vect{x}_i
\end{equation}


\begin{equation}
\vect{x}_{n-1}
\end{equation}


\begin{equation}
\vect{x}_{n-2}
\end{equation}


\begin{equation}
\vect{x}_n
\end{equation}


\begin{equation}
\rconf{\vect{x}}
\end{equation}


\begin{equation}
\tilde{\vect{x}}_i^+
\end{equation}


\begin{equation}
\tilde{\vect{x}}_i^-
\end{equation}


\begin{equation}
\vect{y}
\end{equation}


\begin{equation}
\vect{z}
\end{equation}


\begin{equation}
\frac{\norm{\vect{e}_0}}{2}
\end{equation}


\begin{equation}
\frac{\norm{\vect{e}_{n-1}}}{2}
\end{equation}


\end{document} 