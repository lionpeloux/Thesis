% INVOKE \pgfplotstableread{data.txt}\Table
% with the rigth path for data.txt before input
\begin{tikzpicture}[TikzStyle]
	\PlotStyleYLog{100}{80}{0}{10}{1e-12}{1e0}
	\begin{semilogyaxis}[
		xlabel={$t$},
		ylabel={$\mathcal{E} / \mathcal{E}_{max}$},
		legend pos=north east,
		legend style={font=\small, row sep=2pt},
		legend columns=3,
		legend style={at={(0.5,1.1)},anchor=south, font=\small, row sep=2pt, column sep=5pt, fill=none,overlay},
		]
			\addplot[gray6, thin, legend entry=$\mathcal{E}_p$] table [x index=0, y index=2] {\Table};
			\addplot[Tblue, thick, mark=*,  legend entry=$\mathcal{E}_k$] table [x index=1, y index=3] {\Table};
			\addplot[gray8, thick,  legend entry=$\mathcal{E}_m$]table [x index=0, y index=4] {\Table};

			\pgfplotstablegetcolsof{\Table}
  			\pgfmathparse{(\pgfplotsretval/5 - 1}
			\foreach \x in {1,...,\pgfmathresult}
			{
				\pgfmathtruncatemacro{\XEp}{\x * 5}
				\pgfmathtruncatemacro{\XEk}{\x * 5 + 1}
  				\pgfmathtruncatemacro{\EpCol}{\x * 5 + 2} 
				\pgfmathtruncatemacro{\EkCol}{\x * 5 +3}   	
				\pgfmathtruncatemacro{\EmCol}{\x * 5 + 4}   	
		
				\addplot[gray6, thick] 
				table [x index=\XEp, y index=\EpCol] {\Table};
				
				\addplot[Tblue, thick] 
				table [x index=\XEk, y index=\EkCol] {\Table};
				
				\addplot[gray8, thick] 
				table [x index=\XEp, y index=\EmCol] {\Table};
            		} 
	\end{semilogyaxis}
\end{tikzpicture}